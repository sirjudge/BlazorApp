@page "/test"
@using System.Reflection.Metadata

<div>
    <p role="status">Current count: @currentCount</p>
    <button class="btn btn-primary" @onclick="IncrementCount">Increment Counter</button>
</div>

<div id="timeBox">
    <p role="status">
        Original Time page loaded at: @OriginalPageLoadTimeString
    </p>
    <p>
        Button Time Loaded at: @ButtonUpdateTime
    </p>
    <button class="btn btn-primary" @onclick="UpdateButtonTime">Update Button Time</button>
</div>

<div id="tableManipulations">
    <h1>Testing Table</h1>
    <button class="btn btn-primary" @onclick="RandomizeMessages">Generate Random Guids</button>
    <table>
         <div class="row profile-row" role="status" style="margin-left:10px">
                @foreach (var message in randomMessages)
                {
                    <tr>
                        <td>
                            @message
                        </td>
                    </tr>
                }
            </div>
    </table>
   
</div>
@code {
    List<String> randomMessages = new List<String>();
    
    private int currentCount = 0;
    private string OriginalPageLoadTimeString = DateTime.Now.ToLongTimeString();
    private string ButtonUpdateTime = DateTime.Now.ToLongTimeString();

    public void RandomizeMessages()
    {
        randomMessages.Clear();
        var randomNum = new Random().NextInt64(10);
        for(int i = 0 ; i < randomNum; i ++)
        {
            var randomGuid = Guid.NewGuid().ToString();
            randomMessages.Add(randomGuid);
        }
    }
    
    private void UpdateButtonTime() => ButtonUpdateTime = DateTime.Now.ToLongTimeString();
    private void IncrementCount() => currentCount++;
    private void ResetCount() => currentCount = 0;
}